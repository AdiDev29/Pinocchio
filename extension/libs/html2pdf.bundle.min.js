/**
 * html2pdf.bundle.min.js v0.1.8
 * Copyright (c) 2023 Erik Koopmans
 * Released under the MIT License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.html2pdf=t()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}!function(e){var t,n=(t=e)&&"undefined"!=typeof window&&window.HTML2CANVAS_IGNORE_READABILITY_SCRIPT_ORDERING&&(window.console&&window.console.warn("The ignore readability flag is set to true, HTML2CANVAS_IGNORE_READABILITY_SCRIPT_ORDERING, this might break document parsing for rendering due to browser differences"),!0);"undefined"!=typeof window&&!n&&"function"==typeof window.getComputedStyle&&(Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=e;["Edge","Trident","Firefox"].forEach(function(e){-1!==t.indexOf(e)&&(t="ios safari"!==e?t="CriOS"===e?t="chrome ios":t="Mobile Safari"===e?"ios safari":t:"")})}(navigator.userAgent))}("ios");var u=function(){function e(){t(this,e),this.promises=[]}return r(e,[{key:"then",value:function(e,t){return Promise.all(this.promises).then(e,t)}},{key:"get",value:function(e){return this.promises[e]}},{key:"add",value:function(e){var t=this,n=e.elem,r=e.options,i=e.generateCanvas||!1;return new Promise(function(e,o){"function"==typeof r.onRendered&&(r.onRendered=r.onRendered);var a=i?n.cloneNode(!0):n,s=document.createElement("div");s.appendChild(a);var c,l=r.width||n.offsetWidth,u=r.height||n.offsetHeight;l&&u&&(r.windowWidth=l,r.windowHeight=u),c=i?html2canvas(a,r):Promise.resolve();var h=t.promises.push(c)-1;c.then(function(t){return e(t),t}).catch(function(e){return o(e)})})}}]),e}(),h=function(e){function n(e,r){var o;return t(this,n),(o=a(this,i(n).call(this))).opt=r||{},o.opt.jsPDF=e,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,u),r(n,[{key:"from",value:function(e,t){return this.opt.type=t||"pdf",this.opt.margin||(this.opt.margin=[0,0,0,0]),this.opt.elementHandlers||(this.opt.elementHandlers={}),this.add(e,this.opt)}},{key:"toPdf",value:function(){return Promise.resolve(this)}},{key:"output",value:function(e,t,n){var r=this;return this.then(function(){return r.opt.jsPDF.output(e,t,n)})}},{key:"save",value:function(e){var t=this;return this.then(function(){return t.opt.jsPDF.save(e||"generated.pdf")})}}]),n}(),d=function(){return Promise.resolve()},f=["jpg","jpeg","png"],p=function(e){return-1!==f.indexOf(e)},m="auto",y="p",g="px",v="pt",w="in",b="mm",x="cm",k=72/25.4,C=72/2.54,A=72,S=function(t){switch(e(t)){case"undefined":return t;case"string":return t;case"number":return t+" ".concat(g);case"object":if(null===t)return null;if(t.nodeType&&1===t.nodeType)return t;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(function(e){return S(e)});if(l(t)&&t.value)return t.value;if(l(t)&&t.startsWith&&t.startsWith("--"))return t;if(l(t)&&t.indexOf&&t.indexOf("pt")>-1)return t;if(l(t)&&t.indexOf&&t.indexOf("px")>-1)return t;if(l(t)&&t.indexOf&&t.indexOf("%")>-1)return t}return"".concat(t)},P=function(e){return S(e)},O=function(t,n){var r;switch(n=n||"px"){case"pt":r=1;break;case"mm":r=k;break;case"cm":r=C;break;case"in":r=A;break;case"px":default:r=96/72}return t*(r/1)},T=function(t,n,r){return"string"==typeof t?t:"number"==typeof t?t.toFixed(n)+"":"object"===e(t)?(l(t)&&t.value?t.value:t):r||null!=t?null:null},E={toSizePx:function(e,t,n,r,i){var o=e||0,a=n;if(!0===t&&(a*=i,o=r*o),0===o)return a;switch(e){case"auto":case"":case void 0:return a;default:if("string"==typeof e&&"auto"===e.trim().toLowerCase())return a}if("string"==typeof e&&-1!==e.indexOf("%"))return e;var s=T(e,"number",!0);if(null===s||isNaN(parseFloat(s)))return a;if("string"==typeof s&&s.indexOf("px")>-1&&O(parseFloat(s)))return O(parseFloat(s));if("string"==typeof s&&s.indexOf("pt")>-1&&parseFloat(s))return parseFloat(s);if("string"==typeof s&&s.indexOf("in")>-1&&parseFloat(s))return 72*parseFloat(s);if("string"==typeof s&&s.indexOf("mm")>-1&&parseFloat(s))return parseFloat(s)*k;if("string"==typeof s&&s.indexOf("cm")>-1&&parseFloat(s))return parseFloat(s)*C;var c=parseFloat(s);return isNaN(c)?a:c},getNodeHeight:function(e,t,n){if("function"==typeof e.clientHeight&&e.clientHeight)return e.clientHeight;var r=parseFloat(getComputedStyle(e,null).height.replace("px","").trim());if(!isNaN(r))return r;var i=e.getBoundingClientRect(),o=i.bottom||0,a=i.top||0;if(0===o&&0===a&&i.height)return i.height;o=void 0!==o?o:0,a=void 0!==a?a:0;var s=o-a;if(s>0)return s;var c=e.offsetHeight;return c&&c>0?c:e.scrollHeight>0?e.scrollHeight:0},getNodeWidth:function(e,t,n){if("function"==typeof e.clientWidth&&e.clientWidth)return e.clientWidth;var r=parseFloat(getComputedStyle(e,null).width.replace("px","").trim());if(!isNaN(r))return r;var i=e.getBoundingClientRect(),o=i.right||0,a=i.left||0;if(0===o&&0===a&&i.width)return i.width;o=void 0!==o?o:0,a=void 0!==a?a:0;var s=o-a;if(s>0)return s;var c=e.offsetWidth;return c&&c>0?c:e.scrollWidth>0?e.scrollWidth:0}},_={create:function(e){return document.createElement(e)},textContent:function(e,t){if(e)return t?e.textContent=t:e.textContent||""},getStyle:function(e){if(e)return getComputedStyle(e,null)},setAttribute:function(e,t,n){e&&e.setAttribute(t,n)},removeAttribute:function(e,t){e&&e.removeAttribute(t)},isHidden:function(e){return!!e&&("none"===_.getStyle(e).display||"hidden"===_.getStyle(e).visibility)},hasClass:function(e,t){return!!e&&e.classList.contains(t)},querySelector:function(e,t){if(!e||!t)return null;try{return e.querySelector(t)}catch(e){return console.warn("html2pdf.js: querySelector: ",e),null}},querySelectorAll:function(e,t){if(!e||!t)return[];try{return e.querySelectorAll(t)}catch(e){return console.warn("html2pdf.js: querySelectorAll: ",e),[]}},cloneNode:function(e,t,n){if(e){var r=e.cloneNode(!0);return r}return e},headClone:function(e){if(e){var t=e.ownerDocument.documentElement.cloneNode(!1),n=e.ownerDocument.head.cloneNode(!0);return _.appendChild(t,n),t}},formElements:["input","textarea","select","button"],tableElements:["TABLE","THEAD","TBODY","TFOOT","TR","TH","TD"],specialty:["svg","canvas","img"],isFormElement:function(e){if(e&&e.tagName)for(var t=0;t<_.formElements.length;t++)if(e.tagName.toUpperCase()===_.formElements[t].toUpperCase())return!0;return!1},isSpecialty:function(e){if(e&&e.tagName)for(var t=0;t<_.specialty.length;t++)if(e.tagName.toUpperCase()===_.specialty[t].toUpperCase())return!0;return!1},isTableElement:function(e){if(e&&e.tagName)for(var t=0;t<_.tableElements.length;t++)if(e.tagName.toUpperCase()===_.tableElements[t].toUpperCase())return!0;return!1},appendChild:function(e,t){if(t)return e.appendChild(t)},removeChild:function(e,t){if(t)return e.removeChild(t)},comment:function(e){return document.createComment(e)},setDisplay:function(e,t){var n=getComputedStyle(e,null).getPropertyValue("display"),r=e.getAttribute("data-html2canvas-display");if(null!==r&&void 0!==r||(r=n,e.setAttribute("data-html2canvas-display",r)),t)e.style.display=t;else{var i=e.getAttribute("data-html2canvas-display");e.style.display=i||""}return n},applyTransform:function(e,t){if(e&&"function"==typeof e.style.getPropertyValue){var n=e.style.getPropertyValue("transform");t?e.style.transform=t:n&&(e.style.transform=n)}},appendScript:function(e,t){try{_.setAttribute(e,"src",t);var n=document.getElementsByTagName("head")[0];_.appendChild(n,e)}catch(e){console.warn("html2pdf.appendScript: ",e)}},cloneNodes:function(e,t){if(e&&e.childNodes){var n,r=c(e.childNodes);try{for(r.s();!(n=r.n()).done;){var i=n.value;3===i.nodeType&&i.textContent&&i.textContent.trim().length>0&&_.appendChild(t,i.cloneNode(!0))}}catch(e){r.e(e)}finally{r.f()}}},svgElements:["svg","defs","clippath","filter","fedropshadow","mask","pattern","lineargradient","radialgradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","textpath","tspan","foreignobject","marker","view","g","switch","symbol","desc","metadata","title","use"],isSVG:function(e){if(e&&e.tagName)for(var t=0;t<_.svgElements.length;t++)if(e.tagName.toUpperCase()===_.svgElements[t].toUpperCase())return!0;return!1}},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,e),this.opt=r,r.jsPDF=n||new jspdf.jsPDF(r);var i=n?n.internal.scaleFactor:1;this.opt.fontFaces=r.fontFaces||[],this.opt.defaultFontOptions=r.defaultFontOptions||{},this.scaleFactor=1,this.opt.html2canvas=r.html2canvas||{},this.opt.html2canvas.scale=r.html2canvas.scale||i,this.opts=this.opt,this.renderer=new h(this.opt.jsPDF,this.opt),this.html=null,this.pdf=this.opt.jsPDF,this._isFirefox=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox")}return r(e,[{key:"setHtml",value:function(e){var t=this;if(e){var n=this.pdf.getNumberOfPages();n>1&&this.pdf.deletePage(n),this.html=e;var r=e.cloneNode(!0);r.style.transform="",r.style.transformOrigin="",r.style.zoom=1,this._addFontTags(r),this._embedFonts(this.opt.fontFaces),this._setPdf()}return this}},{key:"_embedFonts",value:function(e){var t=this;if(e&&Array.isArray(e))return e.forEach(function(e){"object"===N(e)&&e.src&&void 0!==e.src&&e.font&&(t.pdf.addFont(e.src,e.font.family,e.font.style,e.font.weight),e.isDefault&&(t.opt.defaultFontOptions.font=e.font.style+" "+e.font.weight+" "+e.font.size+"px "+e.font.family))}),Promise.resolve()}},{key:"_addFontTags",value:function(e){var t=this;this.opt.fontFaces&&Array.isArray(this.opt.fontFaces)&&this.opt.fontFaces.forEach(function(n){if(n&&n.isDefault&&t.opt.defaultFontOptions&&1!==e.querySelectorAll("body").length){var r='<span id="defaultFontOptions" style="visibility:visible;font-family: '+t.opt.defaultFontOptions.font+';"></span>';if(!e.querySelector("body")){var i=document.createElement("body");e.appendChild(i),i.innerHTML=r}else{var o=e.querySelector("body");o.innerHTML=r+o.innerHTML}}t._isFirefox&&e.querySelectorAll("body span").forEach(function(e){e&&e.style&&(e.style.transform="")})})}},{key:"_setPdf",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);this.opt.html2canvas.letterRendering=!0;var n=this.opt.jsPDF.internal.pageSize.getWidth(),r=this.opt.jsPDF.internal.pageSize.getHeight();if(this.opt.html2canvas.width=this.opt.width||n,this.opt.html2canvas.windowWidth=this.opt.windowWidth||0,null!==e){var i=this._getWatermark(e,this.opt);i&&(this.html.appendChild(i),this.opt.watermark=i)}null!==t&&(this.opt.margin=[0,0,0,0])}},{key:"_getWatermark",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.cloneNode(!0);return n}},{key:"toContainer",value:function(){return this.html||null}},{key:"toPdf",value:function(){var e=this;return this.html?this.renderer.add(this.html,this.opt).then(function(){return e.renderer}):Promise.reject(new Error("html property is null or undefined"))}},{key:"toCanvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.html?this.renderer.add(this.html,Object.assign({},this.opt,{generateCanvas:!0,watermark:null}),!0):(console.error("Html object is required to convert it to Canvas."),Promise.reject(new Error("Unable to generate Canvas: html is null or undefined")))}},{key:"output",value:function(e,t,n){var r=this;return this.toPdf().then(function(i){try{return i.output(e,t,n)}catch(i){return r.pdf.output(e,t,n)}})}},{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"file.pdf";return this.toPdf().then(function(t){try{return t.save(e),!0}catch(t){return console.error("Error saving pdf:",t),!1}})}}],[{key:"html",value:function(e,t){return e?(t=t||{},t.jsPDF=t.jsPDF||{},t.jsPDF=I.initConfig(t.jsPDF||{}),new I(t.jsPDF,t).setHtml(e)):Promise.reject(new Error("Html element is not defined"))}},{key:"initConfig",value:function(e){e=e||{};var t=e.orientation||"p",n=e.unit||"mm",r=e.format||"a4",i=e.compress||!1,o=e.precision||16,a=e.floatPrecision||16,s=e.putOnlyUsedFonts||!1,c=e.userUnit||1,l=e.hotfixes||[],u=e.encryption||null,h=e.repeatTableHeader||!1;return new jspdf.jsPDF({orientation:t,unit:n,format:r,compress:i,precision:o,floatPrecision:a,putOnlyUsedFonts:s,userUnit:c,hotfixes:l,encryption:u,repeatTableHeader:h})}},{key:"convert",value:function(t,n){return e.html(t,n||{}).output("dataurlstring")}},{key:"initJsPDF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m,i=e.toLowerCase(),o=r.toLowerCase()||m;return t in{l:1,landscape:1}&&(t=y),n in{p:1,pt:1,points:1,px:1,pixel:1,pixels:1}?n=v:n in{m:1,mm:1,millimeter:1,millimeters:1}?n=b:n in{c:1,cm:1}?n=x:n in{i:1,in:1,inches:1}?n=w:(n=v,console.warn("Unrecognized unit: ".concat(n,". Using 'pt' as the default unit."))),o in{p:1,portrait:1}&&(o=y),o in{l:1,landscape:1}&&(o=y),I.initConfig({unit:n,format:i||"a4",orientation:o})}}]),e}();function j(e,n){var r=new I;return e&&"object"===N(e)&&!e.nodeName?n&&"object"===t(n)&&(n.jsPDF=e):e&&e.nodeName&&(n=n||{},n.jsPDF=r.initJsPDF(n.jsPDF||{}),e=r.setHtml(e)),I.html(e,n||{})}return j.html2pdf=j,j.default=j,j});
